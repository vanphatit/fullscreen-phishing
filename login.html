<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Instagram</title>
  <link rel="icon" type="image/x-icon" href="images/logo.ico">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="container">
    <div id="spoofHeader" style="display: none;">
      <div id="spoofBrowser">
        <img id="browserHeaderImg" alt="Browser Header">
      </div>
    </div>

    <div id="phished" style="display: none;">
      <div style="text-align: center; padding: 30px; background: #ffffff; border-radius: 20px; color: #333333; box-shadow: 0 15px 50px rgba(0,0,0,0.15); max-width: 600px; margin: 20px auto; border: 2px solid #e6e6e6;">
        <h2 style="font-size: 32px; margin-bottom: 15px; color: #d63384; font-weight: bold;">üö® PHISHED! üö®</h2>
        <p style="font-size: 18px; margin-bottom: 25px; color: #6c757d;">B·∫°n v·ª´a b·ªã l·ª´a b·ªüi trang web gi·∫£ m·∫°o!</p>
        
        <div style="background: #f8f9fa; padding: 25px; border-radius: 15px; margin: 25px 0; border: 1px solid #e9ecef;">
          <h3 style="font-size: 24px; margin-bottom: 20px; color: #495057; font-weight: 600;">üë• NH√ìM 5 - B·∫£o m·∫≠t web c√¥ Ch√¢u</h3>
          <div style="display: grid; gap: 12px;">
            <div style="background: #ffffff; padding: 15px; border-radius: 10px; border-left: 5px solid #0d6efd; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <span style="font-weight: 600; font-size: 16px; color: #212529; display: block; margin-bottom: 4px;">L√™ VƒÉn Ph√°t</span>
              <span style="color: #6c757d; font-size: 14px;">MSSV: 22110196</span>
            </div>
            <div style="background: #ffffff; padding: 15px; border-radius: 10px; border-left: 5px solid #0d6efd; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <span style="font-weight: 600; font-size: 16px; color: #212529; display: block; margin-bottom: 4px;">Hu·ª≥nh Thanh Duy</span>
              <span style="color: #6c757d; font-size: 14px;">MSSV: 22110118</span>
            </div>
            <div style="background: #ffffff; padding: 15px; border-radius: 10px; border-left: 5px solid #0d6efd; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <span style="font-weight: 600; font-size: 16px; color: #212529; display: block; margin-bottom: 4px;">Tr·∫ßn Nh∆∞ Qu·ª≥nh</span>
              <span style="color: #6c757d; font-size: 14px;">MSSV: 22110218</span>
            </div>
            <div style="background: #ffffff; padding: 15px; border-radius: 10px; border-left: 5px solid #0d6efd; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <span style="font-weight: 600; font-size: 16px; color: #212529; display: block; margin-bottom: 4px;">Nguy·ªÖn Ch√≠ Thanh</span>
              <span style="color: #6c757d; font-size: 14px;">MSSV: 22110226</span>
            </div>
          </div>
        </div>
        
        <div style="margin-top: 25px; padding: 18px; background: #fff5f5; border-radius: 12px; border: 1px solid #f5c6cb;">
          <p style="margin: 0; font-size: 16px; color: #721c24; line-height: 1.4;">‚ö†Ô∏è <strong>C·∫£nh b√°o:</strong> H√£y c·∫©n th·∫≠n v·ªõi c√°c trang web gi·∫£ m·∫°o!</p>
        </div>
      </div>
    </div>

    <div class="left">
      <!-- ·∫¢nh m√¥ ph·ªèng b√™n tr√°i -->
      <img src="images/landing-2x.png" alt="Preview">
    </div>
    <div class="right">
      <div class="logo"><i data-visualcompletion="css-img" aria-label="Instagram" class="" role="img"
          style="background-image: url(&quot;https://static.cdninstagram.com/rsrc.php/v4/yd/r/5Vve--Eas3M.png&quot;); background-position: 0px -2959px; background-size: 339px 3108px; width: 175px; height: 51px; background-repeat: no-repeat; display: inline-block;"></i>
      </div>
      <div class="form">
        <form id="loginForm">
          <input type="text" placeholder="Phone number, username, or email">
          <input type="password" placeholder="Password">
          <button type="submit">Log in</button>
          <div class="or">OR</div>
          <div class="facebook">
            <svg width="20" height="20" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16">
              <path
                d="M8 0C3.6 0 0 3.6 0 8c0 4 2.9 7.3 6.8 7.9v-5.6h-2V8h2V6.2c0-2 1.2-3.1 3-3.1.9 0 1.8.2 1.8.2v2h-1c-1 0-1.3.6-1.3 1.3V8h2.2l-.4 2.3H9.2v5.6C13.1 15.3 16 12 16 8c0-4.4-3.6-8-8-8Z"
                fill="currentColor"></path>
            </svg>
            <div class="facebook-content">Log in with Facebook</div>
          </div>
          <div class="a forgot-password">Forgot password?</div>
        </form>
      </div>
      <p style="margin-top:20px; font-size: 14px;">Don‚Äôt have an account? <span class="link"
          style="color: #6e7dff;">Sign up</span></p>
    </div>
  </div>
  <div class="footer">
    <a href="#">Meta</a>
    <a href="#">About</a>
    <a href="#">Blog</a>
    <a href="#">Jobs</a>
    <a href="#">Help</a>
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
    <a href="#">Locations</a>
    <a href="#">Instagram Lite</a>
    <br><br>
    ¬© 2025 Instagram from Meta
  </div>
  <!-- C√°c script c·∫ßn thi·∫øt -->
  <script src="js/libs/jquery-1.7.2.js"></script>
  <script src="js/libs/jquery-ui-1.8.18.custom.min.js"></script>
  <script src="js/libs/facebox.js"></script>
  <script src="js/libs/browser-detect.js"></script>
  <script src="js/libs/fullscreen-api.js"></script>
  <script src="js/plugins.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"></script>

  <script>
    // S·ª≠ d·ª•ng function t·ª´ fullscreen-api ƒë·ªÉ t∆∞∆°ng th√≠ch browser
    function requestFullScreen() {
      // KH√îNG hi·ªÉn th·ªã spoofHeader ·ªü ƒë√¢y n·ªØa, ch·ªâ request fullscreen
      console.log('Requesting fullscreen...');
      console.log('Browser:', BrowserDetect.browser);
      console.log('OS:', BrowserDetect.OS);

      // S·ª≠ d·ª•ng elementPrototype t·ª´ fullscreen-api ƒë·ªÉ t∆∞∆°ng th√≠ch
      if (elementPrototype.requestFullscreen) {
        console.log('Using standard requestFullscreen');
        document.documentElement.requestFullscreen();
      } else if (elementPrototype.webkitRequestFullScreen) {
        console.log('Using webkit requestFullScreen');
        document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
      } else if (elementPrototype.mozRequestFullScreen) {
        console.log('Using moz requestFullScreen');
        document.documentElement.mozRequestFullScreen();
      } else {
        // Fallback: try direct API calls
        console.log('Using fallback methods');
        if (document.documentElement.requestFullscreen) {
          console.log('Fallback: standard requestFullscreen');
          document.documentElement.requestFullscreen();
        } else if (document.documentElement.webkitRequestFullScreen) {
          console.log('Fallback: webkit requestFullScreen');
          document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
        } else if (document.documentElement.mozRequestFullScreen) {
          console.log('Fallback: moz requestFullScreen');
          document.documentElement.mozRequestFullScreen();
        }
      }
    }

    // Ch·∫°y khi trang load
    $(function () {
      // Kh·ªüi t·∫°o browser detection
      BrowserDetect.init();

      // Function ƒë·ªÉ set header image d·ª±a tr√™n browser v√† OS
      function setHeaderImage() {
        var imagePath = "images/";
        var browser = BrowserDetect.browser.toLowerCase();
        var os = BrowserDetect.OS.toLowerCase();

        if (browser === "chrome") {
          if (os === "mac") {
            imagePath += "chrome-osx-header.png";
          } else if (os === "windows") {
            imagePath += "chrome-windows-header.png";
          } else if (os === "linux") {
            imagePath += "chrome-linux-header.png";
          } else {
            imagePath += "chrome-osx-header.png"; // fallback
          }
        } else if (browser === "firefox") {
          if (os === "mac") {
            imagePath += "firefox-osx-header.png";
          } else if (os === "windows") {
            imagePath += "firefox-windows-header.png";
          } else if (os === "linux") {
            imagePath += "firefox-linux-header.png";
          } else {
            imagePath += "firefox-osx-header.png"; // fallback
          }
        } else if (browser === "safari") {
          imagePath += "safari-osx-header.png"; // Safari ch·ªâ c√≥ tr√™n macOS
        } else {
          // Fallback cho c√°c browser kh√°c
          imagePath += "chrome-osx-header.png";
        }

        $("#browserHeaderImg").attr("src", imagePath);
      }

      // Set header image
      setHeaderImage();

      // Th√™m class CSS d·ª±a tr√™n browser v√† OS
      if (BrowserDetect.browser == "Chrome") {
        $('html').addClass('chrome');
      } else if (BrowserDetect.browser == "Firefox") {
        $('html').addClass('firefox');
      } else if (BrowserDetect.browser == "Safari") {
        $('html').addClass('safari');
      }

      if (BrowserDetect.OS == "Mac") {
        $('html').addClass('osx');
      } else if (BrowserDetect.OS == "Windows") {
        $('html').addClass('windows');
      } else if (BrowserDetect.OS == "Linux") {
        $('html').addClass('linux');
      }

      // Ki·ªÉm tra h·ªó tr·ª£ fullscreen
      if (!window.fullscreenSupport) {
        alert('Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ Fullscreen API!');
        return;
      }

      // Y√™u c·∫ßu fullscreen ngay khi load
      setTimeout(function () {
        requestFullScreen();
      }, 500);

      // ƒê·∫£m b·∫£o spoofHeader ·∫©n ban ƒë·∫ßu v√† kh√¥ng c√≥ margin-top
      $("#spoofHeader").hide();
      $(".container").css("marginTop", "0px");

      // S·ª≠ d·ª•ng event listener chu·∫©n t·ª´ fullscreen-api
      $(document).on('fullscreenchange', function () {
        console.log('Fullscreen change event triggered');
        // S·ª≠ d·ª•ng fullscreen-api properties ƒë·ªÉ ki·ªÉm tra fullscreen state
        var isFullscreen = document.fullscreenElement ||
                          document.webkitFullscreenElement ||
                          document.mozFullScreenElement ||
                          document.mozFullscreenElement;
        
        console.log('Is fullscreen:', !!isFullscreen);
        console.log('document.fullscreenElement:', document.fullscreenElement);
        console.log('document.webkitFullscreenElement:', document.webkitFullscreenElement);
        console.log('document.mozFullScreenElement:', document.mozFullScreenElement);
        console.log('document.mozFullscreenElement:', document.mozFullscreenElement);
        
        if (!isFullscreen) {
          // Tho√°t fullscreen - ·∫©n header v√† quay v·ªÅ trang ch·ªß
          console.log('Exiting fullscreen, returning to group5.html');
          $("#spoofHeader").hide();
          $('html').removeClass('fullscreened').addClass('not-fullscreened');
          window.location.href = "group5.html";
        } else {
          // V√†o fullscreen - hi·ªán header gi·∫£ v√† th√™m margin cho container
          console.log('Entered fullscreen, showing spoof header');
          $("#spoofHeader").show();
          $(".container").css("marginTop", "80px"); // T·∫°o space cho fake header
          $('html').addClass('fullscreened').removeClass('not-fullscreened');
        }
      });

      // Additional Firefox-specific event listeners for older versions
      $(document).on('mozfullscreenchange webkitfullscreenchange', function () {
        $(document).trigger('fullscreenchange');
      });

      // X·ª≠ l√Ω submit form
      $("#loginForm").on("submit", function (e) {
        e.preventDefault();
        playFailSound();

        if ($("#spoofHeader").length) {
          $("#spoofHeader").effect("shake", function () {
            if (document.getElementById("phished")) {
              document.getElementById("phished").style.display = "block";
            }
          });
        }
      });

      // N·∫øu click b·∫•t k·ª≥ m√† ch∆∞a fullscreen th√¨ y√™u c·∫ßu l·∫°i
      $(document).on("click", function () {
        var isFullscreen = document.fullscreenElement ||
                          document.webkitFullscreenElement ||
                          document.mozFullScreenElement ||
                          document.mozFullscreenElement;
        
        if (!isFullscreen) {
          requestFullScreen();
        }
      });
    });

    // Ph√°t √¢m thanh fail (s·ª≠ d·ª•ng function t·ª´ script.js)
    function playFailSound() {
      $('body').append(
        '<audio preload="auto" autoplay>' +
        '<source src="sound/mario-death.mp3" type="audio/mpeg">' +
        '<source src="sound/mario-death.ogg" type="audio/ogg">' +
        "</audio>"
      );
    }
  </script>
</body>

</html>